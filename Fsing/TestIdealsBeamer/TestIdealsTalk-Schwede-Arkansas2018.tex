% $Header: /cvsroot/latex-beamer/latex-beamer/solutions/conference-talks/conference-ornate-20min.en.tex,v 1.7 2007/01/28 20:48:23 tantau Exp $

\documentclass[xcolor=dvipsnames]{beamer}
\usepackage{color}
\usepackage{bbding}
\usepackage{amsmath}
%%\usepackage{marvosym}
%%\usepackage{graphicx}
%%\usepackage{tikz}
\usepackage{tikz}

%\usepackage[inline]{asymptote}
%\begin{asydef}
%settings.outformat="png";
%settings.render=8;
%import graph3;
%import contour3;
%currentlight=light(gray(0.8),ambient=gray(0.1),specular=gray(0.7),
                     %specularfactor=3,viewport=true,dir(42,48));
%pen bpen=rgb(0.75, 0.7, 0.1);
%material m=material(diffusepen=0.7bpen
%,ambientpen=bpen,emissivepen=0.3*bpen,specularpen=0.999white,shininess=1.0);
%\end{asydef}


% This file is a solution template for:

% - Talk at a conference/colloquium.
% - Talk length is about 20min.
% - Style is ornate.



% Copyright 2004 by Till Tantau <tantau@users.sourceforge.net>.
%
% In principle, this file can be redistributed and/or modified under
% the terms of the GNU Public License, version 2.
%
% However, this file is supposed to be a template to be modified
% for your own needs. For this reason, if you use this file as a
% template and not specifically distribute it as part of a another
% package/program, I grant the extra permission to freely copy and
% modify this file as you see fit and even to delete this copyright
% notice.
\newcommand{\memph}[1]{{\color{Red}\emph{#1}}}

\mode<presentation>
{
  \usetheme{Warsaw}
 \usecolortheme[named=Red]{structure}
 \setbeamertemplate{headline}{}
%\usecolortheme{seahorse}
  % or ...

  \setbeamercovered{transparent}
  % or whatever (possibly just delete it)
}


\usepackage[english]{babel}
% or whatever

\usepackage[latin1]{inputenc}
% or whatever

\usepackage{times}
\usepackage[T1]{fontenc}
% Or whatever. Note that the encoding and the font should match. If T1
% does not look nice, try deleting the line with the fontenc.
\input xy
\xyoption{all}
\usepackage{upgreek}
\newcommand{\mytau}{{\uptau}}
\DeclareFontFamily{OMS}{rsfs}{\skewchar\font'60}
\DeclareFontShape{OMS}{rsfs}{m}{n}{<-5>rsfs5 <5-7>rsfs7 <7->rsfs10 }{}
\DeclareSymbolFont{rsfs}{OMS}{rsfs}{m}{n}
\DeclareSymbolFontAlphabet{\scr}{rsfs}
\newcommand{\fra}{\mathfrak{a}}
\newcommand{\cf}{{\itshape cf.} }
\newcommand{\mustata}{Musta{\c{t}}{\u{a}}}
\newcommand{\tm}{test multiplier}
\newcommand{\stm}{sharp test multiplier}
\newcommand{\ste}{sharp test element}
\newcommand{\sfp}{sharply $F$-pure}
\newcommand{\sfpty}{sharp $F$-purity}
\newcommand{\sfc}{sharp Frobenius closure}
\newcommand{\Fr}[2]{{#2}^{1/p^{#1}}}
%\newcommand{\Fr}[2]{{#2}^{1 \over p^{#1}} }
\newcommand{\Frp}[2]{F^{#1}_*\left({#2}\right)}
\newcommand{\stwo}{$\text{S}_2$}
\newcommand{\gone}{$\text{G}_1$}
\renewcommand{\O}{\mbox{$\mathcal{O}$}}
\newcommand{\bm}{\mathfrak{m}}
\newcommand{\fram}{\mathfrak{m}}
\newcommand{\myR}{{\bf R}}
\newcommand{\bH}{\mathbb{H}}
\newcommand{\ba}{\mathfrak{a}}
\newcommand{\bb}{\mathfrak{b}}
\newcommand{\bQ}{\mathbb{Q}}
\newcommand{\bZ}{\mathbb{Z}}
\newcommand{\bC}{\mathbb{C}}
\newcommand{\bP}{\mathbb{P}}
\newcommand{\bR}{\mathbb{R}}
\newcommand{\bF}{\mathbb{F}}
\newcommand{\bA}{\mathbb{A}}
\newcommand{\tld}{\widetilde }
\newcommand{\sH}{\scr{H}}
\newcommand{\sF}{\scr{F}}
\newcommand{\sG}{\scr{G}}
\newcommand{\sL}{\scr{L}}
\newcommand{\tensor}{\otimes}
\newcommand{\blank}{\underline{\hskip 10pt}}
\newcommand{\mJ}{\mathcal{J}}
\newcommand{\sI}{\scr{I}}
\newcommand{\sR}{\scr{R}}
\DeclareMathOperator{\Div}{{div}}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\sHom}{{\sH}om}
\DeclareMathOperator{\Ann}{{Ann}}
\DeclareMathOperator{\Spec}{{Spec}}
\DeclareMathOperator{\Supp}{{Supp}}
\DeclareMathOperator{\exc}{{exc}}
\DeclareMathOperator{\Frac}{{Frac}}
\DeclareMathOperator{\Image}{{Image}}
\DeclareMathOperator{\coeff}{{coeff}}
\renewcommand{\mod}{\textnormal{\mod}\;}
\newcommand{\mybb}{\memph{$($\PencilRightDown$)$}}
\newcommand{\mydot}{\bullet}



%\newcommand{\mJ}{\mathcal{J}}

%\newtheorem{theorem}{Theorem}[section]
%\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{conclusion}[theorem]{Conclusion}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{consequence}[theorem]{Consequence}

%\newtheorem{corollary}[theorem]{Corollary}
%\newtheorem{conjecture}[theorem]{Conjecture}
%\newtheorem{excercise}[theorem]{Exercise}
\theoremstyle{remark}
\newtheorem{question}[theorem]{Question}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{myexample}[theorem]{Example}
%\newtheorem{definition}[theorem]{Definition}


\newenvironment{packedItemize}{
\begin{itemize}
  \setlength{\topsep}{0pt}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
  \setlength{\partopsep}{0pt}
}{\end{itemize}}


%\title% (optional, use only with long paper titles)
%{A Geometric Characterization of (generalizations of) $F$-Ideals}

\subtitle
{The {\tt TestIdeals} package for Macaulay2}

\author[BeBoBrElHeKaKaMaMaMoRoScSmTeWi] % (optional, use only with lots of authors)
{Erin Bela, Alberto F. Boix, Juliette Bruce, Drew Ellingson, Daniel Hern\'andez, Zhibek Kadyrsizova, Mordechai Katzman, Sara Malec, Matthew Mastroeni, Maral Mostafazadehfard, Marcus Robinson, Karl Schwede\inst{1}, Daniel Smolkin, Pedro Teixeira, Emily Witt}
% - Give the names in the same order as the appear in the paper.
% - Use the \inst{?} command only if the authors have different
%   affiliation.

\institute[AMS Sectional Meeting, University of Arkansas] % (optional, but mostly needed)
{
  \inst{1}%
  Department of Mathematics\\
  University of Utah}

\date[2018] % (optional, should be abbreviation of conference name)
{AMS Sectional Meeting, University of Arkansas\\2018}
% - Either use conference name or its abbreviation.
% - Not really informative to the audience, more for people (including
%   yourself) who are reading the slides online

%\subject{Theoretical Computer Science}
% This is only inserted into the PDF information catalog. Can be left
% out.



% If you have a file called "university-logo-filename.xxx", where xxx
% is a graphic format that can be processed by latex or pdflatex,
% resp., then you can add a logo as follows:

% \pgfdeclareimage[height=0.5cm]{university-logo}{university-logo-filename}
% \logo{\pgfuseimage{university-logo}}



% Delete this, if you do not want the table of contents to pop up at
% the beginning of each subsection:
%\AtBeginSubsection[]
%{
%  \begin{frame}<beamer>{Outline}
%    \tableofcontents[currentsection,currentsubsection]
%  \end{frame}
%}
%\AtBeginSection[]
%{
%  \begin{frame}<beamer>{Outline}
%    \tableofcontents[currentsection,currentsubsection]
%  \end{frame}
%}


% If you wish to uncover everything in a step-wise fashion, uncomment
% the following command:

%\beamerdefaultoverlayspecification{<+->}


\begin{document}

\begin{frame}
  \titlepage
\end{frame}



% Structuring a talk is a difficult task and the following structure
% may not be suitable. Here are some rules that apply for this
% solution:

% - Exactly two or three sections (other than the summary).
% - At *most* three subsections per section.
% - Talk about 30s to 2min per frame. So there should be between about
%   15 and 30 frames, all told.

% - A conference audience is likely to know very little of what you
%   are going to talk about. So *simplify*!
% - In a 20min talk, getting the main ideas across is hard
%   enough. Leave out details, even if it means being less precise than
%   you think necessary.
% - If you omit details that are vital to the proof/implementation,
%   just say so once. Everybody will be happy with that.

\section{Basics}
%%%%%%-----------------------------

\begin{frame}[c]{History}
\begin{itemize}
\item<1-> Consider rings $R$ of characteristic $p > 0$.
\item<2-> No resolution of singularities (in general).
\item<3-> Kunz proved:
\vskip 3pt
\begin{theorem}[Kunz]
$R$ is regular if and only if Frobenius is flat.
\end{theorem}
\item<4->  We can measure singularities with Frobenius!
\item<5->  How flat is Frobenius?
\end{itemize}
\end{frame}

\begin{frame}[c]{History, part 2}
\begin{itemize}
\item<1->  Because we are working with computers, domain finite type over $\bF_q$.
\item<2->  Kunz says Frobenius is flat if and only if $R^{1/p^e}$ is locally free over $R$.
\item<3->  We can weaken being locally free.
\begin{definition}[Hochster-Roberts, Mehta-Ramanathan]
  $R$ is \memph{$F$-pure} if and only if $R \to R^{1/p^e}$ splits.
\end{definition}
\item<4->  $F$-pure is analogous to log canonical singularities.
\begin{itemize}
  \item<5->  $F$-pure implies SLC.
  \item<6->  SLC in char 0 conjecturally implies $F$-pure for many $p$.
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Fedder}
  Checking $F$-purity can be pretty easy.
  \begin{itemize}
    \item<2->  Fedder's Criterion.  $R = S/I$, $S$ is polynomial.
    \begin{theorem}[Fedder]
      $R$ is $F$-pure at $\mathfrak{m}$ if and only if $I^{[p]} : I \not\subseteq \mathfrak{m}^{[p]}$.
    \end{theorem}
   \item<3->  If $I = (f)$, then  $I^{[p]} : I = (f^{p-1})$.  (\memph{BOARD})
   \item<4->  For example.
   {}
   \begin{verbatim}
i5 : S = ZZ/7[x,y,z];
i6 : f = x^3 + y^3 + z^3;
i8 : isSubset(ideal(f^6), ideal(x^7, y^7, z^7))
o8 = false
   \end{verbatim}
  \end{itemize}
\end{frame}

\begin{frame}[c]{Macaulay2}
  We have written a package {\tt TestIdeals.m2} that computes whether a ring (or pair) is:
  \begin{itemize}
    \item<2->  $F$-pure
    \begin{itemize}
      \item<3->  Analog of SLC.
    \end{itemize}
    \item<4->  $F$-regular
    \begin{itemize}
      \item<5->  Analog of KLT.
    \end{itemize}
    \item<6->  $F$-rational
    \begin{itemize}
      \item<7->  Analog of rational.
    \end{itemize}
    \item<7->  $F$-injective
    \begin{itemize}
      \item<8->  Analog of Du Bois.
    \end{itemize}
    \item<8->  Test ideals
    \begin{itemize}
      \item<9->  Analogs of multiplier ideals
    \end{itemize}
    \item<10->  $F$-pure thresholds (with {\tt FThresholds.m2}).
    \begin{itemize}
      \item<11->  Analogs of log canonical thresholds.
    \end{itemize}

  \end{itemize}
\end{frame}


\begin{frame}[c]{Fedder, part 2}
  \begin{itemize}
  \item<1->Fedder's criterion works because maps
  \[
  \phi_R : R^{1/p^e} \to R
  \]
  come from maps
  \[
  \phi_S : S^{1/p^e} \to S
  \]
  such that $\phi_S(I^{1/p^e}) \subseteq I$.
\item<2->  In fact,
\[
I^{[p^e]} : I \cong \{ \phi \in \Hom_S(S^{1/p^e}, S) \;|\; \phi(I^{1/p^e}) \subseteq I \}.
\]
\item<3->  Translates questions on $R$ into questions in polynomial ring $S$.
\item<4->  Note $\{\phi_R \neq 0\} \leftrightarrow \{\Delta\geq 0\;\; \text{$\mathbb{Q}$-log boundary} \}$.  (\memph{BOARD})
\end{itemize}
\end{frame}

\begin{frame}[c]{Frobenius trace}
  One more big tool.
  \begin{itemize}
    \item<2->  There exists $\Phi : S^{1/p^e} \to S$.
    \item<3->  $\Phi\Big(x_1^{p^e - 1 \over p^e} \cdots x_n^{p^e - 1 \over p^e}\Big) = 1$
    \item<4->  Other monomials to 0.
    \item<5->  $\Phi$ generates $\Hom_S(S^{1/p^e}, S)$.
    \item<6->  $\Phi$ is Grothendieck dual to Frobenius.
    \item<7->  $\Phi(J^{1/p^e}) \subseteq I$ if and only if
    \[
      I^{[p^e]} \subseteq J.
    \]
    \begin{theorem}[Fedder restated]
      \[
      \Phi((I^{[p^e]} : I)^{1/p^e}) \equiv_I \Image(\Hom_R(R^{1/p^e}, R) \xrightarrow{@1} R)
      \]
      defines locus where $R = S/I$ is not $F$-pure.
    \end{theorem}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Implementation}
  We compute some Macaulay2 examples.  $\Phi(J)$ is called the \memph{Frobenius root of $J$}.
  \begin{verbatim}
i12 : I =ideal(x^3 + y^3 + z^3);
i13 : frobeniusRoot(1, I^7 : I)
o13 = ideal 1
i14 : isFPure(S/I)
o14 = true
i15 : J = ideal(x^4+y^4+z^4);
i16 : frobeniusRoot(1, J^7 : J)
              2             2        2
o16 = ideal (z , y*z, x*z, y , x*y, x )
i19 : isFPure(S/J)
o19 = false
  \end{verbatim}
\end{frame}

\begin{frame}[fragile]{More examples}
  \begin{verbatim}
i20 : T = ZZ/5[a,b,c,d,e];
i21 : B = ZZ/5[x,y];
i22 : f = map(B, T, {x^4, x^3*y, x^2*y^2, x*y^3, y^4})
                4   3    2 2     3   4
o22 = map(B,T,{x , x y, x y , x*y , y })
o22 : RingMap B <--- T
i23 : I = ker f
              2                               2                    2
o23 = ideal (d  - c*e, c*d - b*e, b*d - a*e, c  - a*e, b*c - a*d, b  - a*c)
o23 : Ideal of T
i24 : isFPure(T/I)
o24 = true
  \end{verbatim}
\end{frame}

\begin{frame}[c]{$F$-regularity and test ideals}
  \begin{itemize}
    \item<1->  Analog of KLT.
    \begin{definition}
      $R$ is \memph{strongly $F$-regular} if for every (interesting\footnote{In Jacobian ideal is good enough}) $c \in R$, there is some $e$ and $\phi : R^{1/p^e} \to R$ so that $\phi(c^{1/p^e}) = 1$.
    \end{definition}
    \item<2->  If translated by Fedder's methods,
    \begin{theorem}
      $R = S/I$ is strongly $F$-regular if and only if
      \[
      I + \Phi( (c(I^{[p^e]} : I))^{1/p^e} ) = S.
      \]
    \end{theorem}
    \item<3->  $R$ is KLT if and only if $(R, c^{\epsilon})$ is SLC.
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{$F$-regularity checking}
  \begin{verbatim}
i3 : S = ZZ/7[x,y,z];
i4 : R = S/ideal(x^2-y*z)
i5 : isFRegular(R);
o5 = true
i20 : A = ZZ/7[x,y,z]/(y^2*z - x*(x-z)*(x+z));
i21 : C = ZZ/7[a,b,c,d,e,f];
i22 : g = map(A, C, {x^2, x*y, x*z, y^2, y*z, z^2})
i23 : I = ker g;
i26 : isFRegular(C/I);
o26 = false
  \end{verbatim}
\begin{itemize}
    \item<2->  We can only show that $\bQ$-Gorenstein rings are not $F$-regular.
    \item<3->  The {\tt QGorensteinIndex=>infinity} option can prove a non-$\bQ$-Gorenstein ring is $F$-regular.
\end{itemize}
\end{frame}

\begin{frame}[fragile]{$F$-regularity of pairs}
    \begin{verbatim}
i3 : S = ZZ/7[x,y,z];
i4 : R = S/ideal(x^2-y*z)
i6 : h = y;
i7 : isFRegular(1/2, y)
o7 = false
i8 : isFRegular(1/3, y)
o8 = true
    \end{verbatim}
    \begin{itemize}
\item<2->The pair $(R, h^{1/2})$ is not $F$-regular but $(R, h^{1/3})$ is.
\item<3->The {\tt FThresholds} package can even compute $F$-pure thresholds.
\end{itemize}
\end{frame}

\begin{frame}[c]{$F$-rationality}
    \begin{itemize}
        \item<1->  Analog of rational singularities.
        \item<2->  Implies (pseudo-)rational singularities in a fixed characteristic.
        \begin{itemize}
            \item<3->  $\mathcal{O}_X \simeq R \pi_* \O_Y$
        \end{itemize}
        \item<4->  Here's our definition:
        \begin{definition}
            $R$ has \memph{$F$-rational singularities} if it is
            \begin{itemize}
                \item<5->  Cohen-Macaulay
                \item<6->  $(c^{1/p^e} \cdot \omega_{R^{1/p^e}}) \xrightarrow{F^e-\mathrm{dual}} \omega_R$ surjects.
            \end{itemize}
        \end{definition}
%        \item<7->  Recent work (Ma - $\bullet$) implies that
    \end{itemize}
\end{frame}

\begin{frame}[c]{Implementation}
    The tricky part is writing the map:
    \[
    F-\mathrm{dual}: \omega_{R^{1/p^e}} \to \omega_R.
    \]
    \begin{itemize}
        \item<2->  Trick (Katzman) is to embed $\omega_R$ as an ideal in $R$.
        \item<3->  Extend $F-\mathrm{dual}$ to $\phi_R : R^{1/p^e} \to R$.
        \item<4->  Extend further to $\phi_S : S^{1/p^e} \to S$.  ($R = S/I$)
        \item<5->  Represent $\phi_S \in I^{[p^e]} : I$.
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{$F$-rational examples}
    Here is an example of an $F$-rational (but not $F$-regular) ring.
    \begin{verbatim}
i8 : S = ZZ/3[a,b,c,d,t]; m = 4; n = 3;
i11 :  M = matrix{ {a^2 + t^m, b, d},
                   {c, a^2, b^n-d} };
              2       3
o11 : Matrix S  <--- S
i12 :  I = minors(2, M);
i13 : R = S/I;
i14 : isFRational(R)
o14 = true
\end{verbatim}
Appeared in work of Anurag Singh (deform $F$-regularity)
\end{frame}

\begin{frame}[c]{Characteristic zero applications}
    Characteristic $p > 0$ conclusions imply results in characteristic zero.
    \begin{theorem}[Ma-{$\bullet$}]
        Suppose $R$ is a ring of mixed characteristic finite type over $\bZ$.  Suppose $p \in \bZ$ is a regular element and $Q \subseteq R$ is a prime not containing any nonzero prime of $\bZ$ so that $(p) + Q \neq R$.
        \vskip 9pt
        If $R/pR$ is $F$-rational, then $R_Q = R_Q \otimes \bQ$ has rational singularities.
    \end{theorem}
    \begin{itemize}
    \item<2->Analogous statement for log terminal/$F$-regular singularities, if the $\bQ$-Gorenstein not divisible by $p$.
    \item<3->Not known for log canonical/$F$-pure singularities (need mixed char inversion of adjunction).
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{$F$-injective}
    We can also study $F$-injective singularities (analog of Du~Bois).

        \begin{definition}
        $R$ is \memph{$F$-injective} if
        \[
        H^{-i} \omega_{R^{1/p}}^{\mydot} \to H^{-i} \omega_{R}^{\mydot}
        \]
        surjects for all $i$.
        \end{definition}
        \begin{itemize}
        \item<2->  If $R$ is CM, this just means
        \[
            (\omega_{R^{1/p^e}}) \xrightarrow{F^e-\mathrm{dual}} \omega_R
        \]
        surjects.
        \item<3->  Example
        \begin{verbatim}
i10 : R = ZZ/[x,y,z]/ideal(x^3+y^3+z^3);
i11 : isFInjective(R)
o11 = true
        \end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[c]{Test ideals}
    We can compute test ideals too.  Including of pairs.
    \begin{itemize}
        \item<2-> In a $\bQ$-Gorenstein ring.
        \item<3-> $\tau(R, f^t)$ equals sum of images of maps
        \[
        \phi : (cf^{\lceil t(p^e - 1)\rceil} R)^{1/p^e} \to R.
        \]
        $c$ as before.
        \item<4->  We use it to check $F$-regularity.
        \begin{itemize}
            \item<5->  $(R, f^t)$ is $F$-regular if and only if $\tau(R, f^t) = R$.
        \end{itemize}
        \item<6->  Trick is stabilize image sums above.
        \item<7->  Can compute parameter test modules and parameter test ideals too.
    \end{itemize}
\end{frame}


\begin{frame}[fragile]{Example}
\begin{verbatim}
i2 : R = ZZ/5[x,y];
i3 : f = y^2-x^3;
        3    2
o3 = - x  + y
i4 : testIdeal(4/5, f);
o4 = ideal (y, x)
i5 : testIdeal(4/5-1/10000, f)
o5 = ideal 1
\end{verbatim}
\begin{itemize}
\item<2->We can compute $\tau(R, f^{t-\epsilon})$, which is used to compute jumping numbers and $F$-pure thresholds.
\item<3->Needs {\tt FPureModule} function.
\end{itemize}
\end{frame}


\begin{frame}[fragile]{$F$-pure thresholds}
    We conclude with a discussion of the {\tt FThresholds} package.
    \begin{itemize}
        \item<2->  If $R$ is $F$-regular, $F$-pure threshold (FPT) is the smallest $t \geq 0$ where $\tau(R, f^t) \neq R$.
        \item<3->  We do a binary-style search to a certain depth.
        \item<4->  However, if $f$ is a special form, we have other algorithms.
        \item<5->  We also guess + check.
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Example FPT}
\begin{verbatim}
i2 : R = ZZ/5[x,y,z]
i3 : f = x^5 - y^6 + x^3*z^5 + 2*z^8
      3 5     8    6    5
o3 = x z  + 2z  - y  + x
i4 : fpt(f)
     1
o4 = -
     5
\end{verbatim}
FPT of the cusp (in a nonstandard form).
\begin{verbatim}
i1 : R = ZZ/7[x,y]
i4 : fpt((x+y)^3 - y^2)
     5
o4 = -
     6
\end{verbatim}
\end{frame}

\begin{frame}[c]{Thanks!}
You can go to:
\begin{center}
{\tt http://www.math.utah.edu/{\textasciitilde}schwede/M2.html}
\end{center}
to try it yourself!
\end{frame}

\end{document}
